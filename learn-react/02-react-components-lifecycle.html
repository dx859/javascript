<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>React-Components-Lifecycle</title>
    <script src="http://cdn.bootcss.com/react/0.13.3/react.min.js"></script>
    <script src="http://cdn.bootcss.com/react/0.13.3/JSXTransformer.js"></script>
</head>
<body>
<xmp>
1.  Mounted
    React.renderComponent()
    => React Components被render解析生成对应的DOM节点，并被插入浏览器的DOM结构的一个过程
    
2.  Update          <--------------
    |                             |
    setState() OR setProps() -> render
    => 一个mounted的React Compontends被重新render的过程
    => 当前state和最近一次的state做比较，state确实发生改变，并且影响到DOM结构的时候React才会改变对应的DOM结构

3.  Unmouted
    React.unmountAndReleaseReactRootNode()
    => 一个mounted的React Components对应的DOM节点被从DOM结构中移除的这样一个过程

--- 每一个状态React都封装了对应的hook函数

1.  Mounting
    getDefaultProps()  => 组件调用方在调用组件时调用，一般不可变
        |
    getInitialState()  => 初始化，是可变的
        |
    componentWillMount => Mounting前调用
        |
    render
        |
    componentDidMount  => Mounted后调用

2.  Updating
    componentWillReceiveProps: setProps
        |
    shouldComponentUpdate: setState(判断是否有必要更新DOM结构)
        |true   |false
    componentWillUpdate
        |
    render
        |
    componentDidUpdate

3.  Unmounting
    componentWillUnmount

</xmp>
<hr>
<div id="container"></div>
<script type="text/jsx">
var Hello = React.createClass({
    getInitialState: function() {
        alert('init');
        return {
            color: 'red',
            fontSize: '18px'
        };
    },

    render: function() {
        return <div style={{color: this.state.color, fontSize: this.state.fontSize}}>Hello {this.props.name}</div>;
    },

    componentWillMount: function() {
        alert('will');
    },

    componentDidMount: function() {
        alert('div');

        var _self = this; // 改变this指向，也可以使用bind setTimeout(function(){}.bind(this),1000)
        // 一秒之后改变
        window.setTimeout(function() {
            _self.setState({
                color: 'green',
                fontSize: '28px'
            })
        }, 1000)
    }
});

React.render(<Hello name="World" />, document.getElementById('container'));

</script>
</body>
</html>